{"version":3,"sources":["angular-notify.js"],"names":["AngularNotifyModule","angular","module","config","$provide","decorator","$delegate","Object","defineProperty","constructor","prototype","value","name","listener","unsubscribe","$on","this","enumerable","directive","restrict","link","scope","elem","attrs","createNotify","notifyData","notifyContainer","document","createElement","title","className","innerHTML","appendChild","content","length","closeBtn","addEventListener","notify","hideFunc","type","domElem","removeDom","$","remove","removeClass","addClass","setTimeout","$onRootScope","e","inArray","timeoutID","mouseenter","window","clearTimeout","mouseleave"],"mappings":"AAAA,GAAAA,qBAAAC,QAAAC,OAAA,iBAAA,MAEAF,qBAAAG,QAAA,WAAA,SAAAC,GACAA,EAAAC,UAAA,cAAA,YAAA,SAAAC,GAWA,MAVAC,QAAAC,eAAAF,EAAAG,YAAAC,UAAA,gBACAC,MAAA,SAAAC,EAAAC,GACA,GAAAC,GAAAR,EAAAS,IAAAH,EAAAC,EAGA,OAFAG,MAAAD,IAAA,WAAAD,GAEAA,GAEAG,YAAA,IAGAX,QAIAN,oBAAAkB,UAAA,aACA,WACA,OACAC,SAAA,MACAC,KAAA,SAAAC,EAAAC,EAAAC,GACA,GAAAC,GAAA,SAAAC,GACAC,gBAAAC,SAAAC,cAAA,MACA,IAAAC,GAAAF,SAAAC,cAAA,IAIA,IAHAC,EAAAC,WAAA,SACAD,EAAAE,UAAAN,EAAAI,MACAH,gBAAAM,YAAAH,GACA,gBAAAJ,GAAAQ,SAAA,IAAAR,EAAAQ,QAAAC,OAAA,CACA,GAAAD,GAAAN,SAAAC,cAAA,IACAK,GAAAH,WAAA,WACAG,EAAAF,UAAAN,EAAAQ,QACAP,gBAAAM,YAAAC,GAEA,GAAAE,GAAAR,SAAAC,cAAA,SAQA,QAPAO,EAAAL,WAAA,SACAK,EAAAJ,UAAA,sCACAI,EAAAC,iBAAA,QAAA,WACAC,EAAAC,aAEAZ,gBAAAM,YAAAG,GACAT,gBAAAI,WAAA,iBACAL,EAAAc,MACA,IAAA,UACAb,gBAAAI,WAAA,yBACA,MACA,KAAA,OACAJ,gBAAAI,WAAA,sBACA,MACA,KAAA,UACAJ,gBAAAI,WAAA,yBACA,MACA,KAAA,QACAJ,gBAAAI,WAAA,wBAGAJ,gBAAAI,WAAA,uBAEA,IAAAO,IACAG,QAAAd,gBACAe,UAAA,WACAC,EAAA1B,KAAAwB,SAAAG,UAEAL,SAAA,WACAI,EAAA1B,KAAAwB,SAAAI,YAAA,wBACAF,EAAA1B,KAAAwB,SAAAK,SAAA,uBACAC,WAAA,WAAAT,EAAAI,aAAA,MAIA,OAAAJ,GAEAhB,GAAA0B,aAAA,SAAA,SAAAC,EAAAvB,GACA,GAAA,KAAAiB,EAAAO,QAAAxB,EAAAc,MAAA,UAAA,OAAA,UAAA,WACA,gBAAAd,GAAAI,OAAA,IAAAJ,EAAAI,MAAAK,OAAA,CACA,GAAAG,GAAAb,EAAAC,EACAH,GAAA,GAAAU,YAAAK,EAAAG,QACA,IAAAU,GAAAJ,WAAA,WAAAT,EAAAC,YAAA,KACAI,GAAAL,EAAAG,SAAAW,WAAA,WACAC,OAAAC,aAAAH,KACAI,WAAA,WACAJ,EAAAJ,WAAA,WAAAT,EAAAC,YAAA","file":"angular-notify.min.js","sourcesContent":["var AngularNotifyModule = angular.module('angularNotify', ['ng']);\n// 事件监听绑定到rootScope的装饰器\nAngularNotifyModule.config(['$provide', function($provide){\n\t$provide.decorator('$rootScope', ['$delegate', function($delegate){\n\t\tObject.defineProperty($delegate.constructor.prototype, '$onRootScope', {\n\t\t\tvalue: function(name, listener){\n\t\t\t\tvar unsubscribe = $delegate.$on(name, listener);\n\t\t\t\tthis.$on('$destroy', unsubscribe);\n\n\t\t\t\treturn unsubscribe;\n\t\t\t},\n\t\t\tenumerable: false\n\t\t});\n\n\t\treturn $delegate;\n\t}]);\n}]);\n\nAngularNotifyModule.directive('notifybar', [\n\tfunction(){\n\t\treturn {\n\t\t\trestrict: 'EAC',\n\t\t\tlink: function(scope, elem, attrs){\n\t\t\t\tvar createNotify = function(notifyData){\n\t\t\t\t\tnotifyContainer = document.createElement('div');\n\t\t\t\t\tvar title = document.createElement('p');\n\t\t\t\t\ttitle.className += ' title';\n\t\t\t\t\ttitle.innerHTML = notifyData.title;\n\t\t\t\t\tnotifyContainer.appendChild(title);\n\t\t\t\t\tif( typeof notifyData.content == 'string' && notifyData.content.length !== 0 ){\n\t\t\t\t\t\tvar content = document.createElement('p');\n\t\t\t\t\t\tcontent.className += ' content';\n\t\t\t\t\t\tcontent.innerHTML = notifyData.content;\n\t\t\t\t\t\tnotifyContainer.appendChild(content);\n\t\t\t\t\t}\n\t\t\t\t\tvar closeBtn = document.createElement('button');\n\t\t\t\t\tcloseBtn.className += ' close';\n\t\t\t\t\tcloseBtn.innerHTML = '<i class=\"material-icons\">close</i>';\n\t\t\t\t\tcloseBtn.addEventListener('click',function(){\n\t\t\t\t\t\tnotify.hideFunc();\n\t\t\t\t\t});\n\t\t\t\t\tnotifyContainer.appendChild(closeBtn);\n\t\t\t\t\tnotifyContainer.className += 'angular-notify';\n\t\t\t\t\tswitch(notifyData.type){\n\t\t\t\t\t\tcase 'success':\n\t\t\t\t\t\t\tnotifyContainer.className += (' angular-notify' + '-success');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'info':\n\t\t\t\t\t\t\tnotifyContainer.className += (' angular-notify' + '-info');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'warning':\n\t\t\t\t\t\t\tnotifyContainer.className += (' angular-notify' + '-warning');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'error':\n\t\t\t\t\t\t\tnotifyContainer.className += (' angular-notify' + '-error');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tnotifyContainer.className += ' angular-notify-enter';\n\n\t\t\t\t\tvar notify = {\n\t\t\t\t\t\tdomElem: notifyContainer,\n\t\t\t\t\t\tremoveDom: function(){\n\t\t\t\t\t\t\t$(this.domElem).remove();\n\t\t\t\t\t\t},\n\t\t\t\t\t\thideFunc : function(){\n\t\t\t\t\t\t\t$(this.domElem).removeClass('angular-notify-enter');\n\t\t\t\t\t\t\t$(this.domElem).addClass('angular-notify-hide');\n\t\t\t\t\t\t\tsetTimeout(function(){notify.removeDom();}, 320);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\treturn notify;\n\t\t\t\t};\n\t\t\t\tscope.$onRootScope('notify',function(e,notifyData){\n\t\t\t\t\tif($.inArray(notifyData.type, ['success', 'info', 'warning', 'error']) !== -1){\n\t\t\t\t\t\tif( typeof notifyData.title == 'string' && notifyData.title.length !== 0){\n\t\t\t\t\t\t\tvar notify = createNotify(notifyData);\n\t\t\t\t\t\t\telem[0].appendChild(notify.domElem);\n\t\t\t\t\t\t\tvar timeoutID = setTimeout(function(){notify.hideFunc();}, 3200);\n\t\t\t\t\t\t\t$(notify.domElem).mouseenter(function(){\n\t\t\t\t\t\t\t\twindow.clearTimeout(timeoutID);\n\t\t\t\t\t\t\t}).mouseleave(function(){\n\t\t\t\t\t\t\t\ttimeoutID = setTimeout(function(){notify.hideFunc();}, 3200);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}\n]);"]}